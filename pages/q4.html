<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Question number 1</title>

  <link rel="stylesheet" href="..//assets/css/q4.css">
  <link rel="stylesheet" href="..//assets/css/style.css">
</head>

<body>

  <div class="header">
    <h1 class="birds"><b>BIRDS BUDDY</b></h1>
    <ul>
      <li>
        <a class="navlist" href="../index.html">Home</a>
      </li>
      <li>
        <a class="navlist" href="../pages/about.html">About</a>
      </li>
      <li>
        <a class="navlist" href="../pages/q1.html">Identify Bird</a>
      </li>
      <li>
        <a class="navlist" href="../pages/explore.html">Explore</a>
      </li>
      <li>
        <a class="guidance" href="../pages/guidance.html">Guidance</a>
      </li>
    </ul>


  </div>
  <div class="headerendline"></div>
  <section class="question-section">

    <div class="kelvi">
      <h3>What were the main colors?</h3>
    </div>
    <div class="select">
      <h4>Select from 1 to 3</h4>
    </div>
    <div class="container">

      <div class="main_colors">
        <!-- <div class="black">
                  <div class="color-btn" id="black">Black</div>
                </div>
                <div class="gray">
                  <div class="color-btn" id="grey">Gray</div>
                </div>
                <div class="white">
                  <div class="color-btn" id="white">White</div>
                </div>
                <div class="brown">
                  <div class="color-btn" id="brown">Brown</div>
                </div>
                <div class="red">
                  <div class="color-btn" id="red">Red</div>
                </div>
                <div class="yellow">
                  <div class="color-btn" id="yellow">Yellow</div>
                </div>
                <div class="green">
                  <div class="color-btn" id="green">Green</div>
                </div>
                <div class="blue">
                  <div class="color-btn" id="blue"> Blue</div>
                </div>
                <div class="orange">
                  <div class="color-btn" id="orange">Orange</div>
                </div>
              </div> -->
      </div>
      <div>
        <button type="button" id="colour" class="next" onclick="submit()">Next</button></a>
      </div>
      <div class="back">
        <a href="..//pages/q3.html"><button>Back</button></a>
      </div>

  </section>





  <script>
    function submit() {
      let colour = document.getElementById("colour").value

      console.log(colour)

      window.location.href = "../pages/q5.html"
    }



    let color_options = [
  { "name": "Black" },
  { "name": "Gray" },
  { "name": "White" },
  { "name": "Brown" },
  { "name": "Red" },
  { "name": "Yellow" },
  { "name": "Green" },
  { "name": "Blue" },
  { "name": "Orange" }
];

// Create the main_colors div and append it to the document body
let main_colors = document.querySelector("div.main_colors")

let selectedColors = [];

// Store the color options array in localStorage
localStorage.setItem("color_options", JSON.stringify(color_options));


for (let i = 0; i < color_options.length; i++) {
  // Create the divs for each color and append them to main_colors
  let colorDiv = document.createElement("div");
  colorDiv.setAttribute("class", color_options[i]['name']);
  main_colors.append(colorDiv);

  let colorBtn = document.createElement("div");
  colorBtn.setAttribute("class", "color-btn");
  colorBtn.setAttribute("id", (color_options[i]['name']).toLowerCase());
  colorBtn.textContent = color_options[i]['name'];
  colorDiv.append(colorBtn);

  // Add click event listener to each color button
  colorBtn.addEventListener("click", function () {
    // Check if the maximum number of colors has already been selected
    if (selectedColors.length >= 3) {
      alert("You can select a maximum of three colors.");
      return;
    }

    // Check if the color has already been selected
    if (selectedColors.indexOf(color_options[i]['name']) !== -1) {
      alert("You have already selected this color.");
      return;
    }

    // Add the selected color to the array
    selectedColors.push(color_options[i]['name']);

    // Add a class to the color div to indicate that it has been selected
    colorDiv.classList.add("selected");

    console.log(selectedColors);

    
  let identify_birds = JSON.parse(localStorage.getItem("identifyBirds")) // get

identify_birds["color"] = selectedColors //asign

localStorage.setItem("identifyBirds", JSON.stringify(identify_birds)); //push

  });
}

// Add event listener to the submit button
let submitBtn = document.getElementById("submitBtn");
submitBtn.addEventListener("click", function () {
  // Check if the minimum number of colors has been selected
  if (selectedColors.length < 1) {
    alert("You must select at least one color.");
    return;
  }

  // Add the selected colors to the color options array
  color_options.forEach(function (color) {
    if (selectedColors.indexOf(color['name']) !== -1) {
      color['selected'] = true;
    }
  });

  // Store the updated color options array in localStorage
  localStorage.setItem("color_options", JSON.stringify(color_options));

  // Redirect to the next page
  window.location.href = "./nextPage.html";
});

// Highlight the selected color divs
let selectedDivs = document.querySelectorAll(".selected");
selectedDivs.forEach(function(div) {
  div.style.border = "2px solid #000000";
});









  </script>
</body>

</html>