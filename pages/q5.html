<!DOCTYPE html>
<html>

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Question number 1</title>

    <link rel="stylesheet" href="..//assets/css/q5.css">
    <link rel="stylesheet" href="..//assets/css/style.css">

</head>

<body>

    <div class="header">
        <h1 class="birds"><b>BIRDS BUDDY</b></h1>
        <ul>
            <li>
                <a class="navlist" href="../index.html">Home</a>
            </li>
            <li>
                <a class="navlist" href="../pages/about.html">About</a>
            </li>
            <li>
                <a class="navlist" href="../pages/q1.html">Identify Bird</a>
            </li>
            <li>
                <a class="navlist" href="../pages/explore.html">Explore</a>
            </li>
            <li>
                <a class="guidance" href="../pages/guidance.html">Guidance</a>
            </li>
        </ul>

        <a href="../pages/q2.html"></a>
    </div>
    <div class="headerendline"></div>
    <section class="question-section">
        <div class="container">
            <div class="kelvi">
                <h3>Was the bird doing?</h3>
            </div>
            <div class="options">
                <!-- <div class="option_container">
            <lable>Eating at a feader</lable>
        </div>
        <input  id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>Swimming or wading</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>On the ground</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>In trees or bushes</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>On a fence wire</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>Soring or flying</lable>
        </div>
        <input id="checkbox" type="checkbox" /> -->
            </div>

            <div>
                <button type="button" class="next" id="submitBtn" onclick="submit()">Next</button>
            </div>
            <div class="back">
                <a href="..//pages/q4.html"><button>Back</button></a>
            </div>
        </div>
    </section>
   
    <script>
 const options = [
      'Eating at a feeder',
      'Swimming or wading',
      'On the ground',
      'In trees or bushes',
      'On a fence wire',
      'Soaring or flying'
    ];

    const container = document.querySelector('.options');

    // Loop through the options array and create a checkbox and label element for each option
    options.forEach(option => {
      const optionContainer = document.createElement('div');
      optionContainer.classList.add('option_container');
      optionContainer.style.marginBottom = '10px';

      const label = document.createElement('label');
      label.innerText = option;

      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';

      // Set the id of the checkbox to the option name, converted to lowercase and with spaces replaced by underscores
      checkbox.id = option.toLowerCase().replace(' ', '_');

      // Set the "for" attribute of the label to the id of the checkbox
      label.setAttribute('for', checkbox.id);

      // Append the label and checkbox to the option container
      optionContainer.appendChild(checkbox);
      optionContainer.appendChild(label);

      // Append the option container to the main container
      container.appendChild(optionContainer);
    });

    // Add event listener to the submit button
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.addEventListener('click', function() {
      const selectedOptions = [];

      // Loop through all the checkboxes and add the selected ones to the array
      options.forEach(option => {
        const checkbox = document.getElementById(option.toLowerCase().replace(' ', '_'));
        if (checkbox.checked) {
          selectedOptions.push(option);
        }
      });

      // Validate the number of selected options
      if (selectedOptions.length === 0) {
        alert('Please select at least 1 option.');
        return;
      }

      if (selectedOptions.length > 3) {
        alert('Please select a maximum of 3 options.');
        return;
      }

      // Pass the selected options as query parameters in the URL when redirecting to the next page
      const queryParams = selectedOptions.map(option => `action=${encodeURIComponent(option)}`).join('&');
      const urlParams = new URLSearchParams(window.location.search);
      const place = urlParams.get("place");
      const size = urlParams.get("size");
      const colors = urlParams.get("colors");

      // Store the selected data in local storage
      const selectedData = {
        place: place,
        size: size,
        colors: colors.split(","),
        actions: selectedOptions
      };
      localStorage.setItem('selectedData', JSON.stringify(selectedData));

      window.location.href = `../../pages/identifyBird.html?${queryParams}`;
    });

    // Disable the submit button initially
    submitBtn.disabled = true;

    // Add event listeners to checkboxes to enable/disable the submit button based on selection
    options.forEach(option => {
      const checkbox = document.getElementById(option.toLowerCase().replace(' ', '_'));
      checkbox.addEventListener('change', function() {
        const checkedOptions = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'));
        submitBtn.disabled = checkedOptions.length === 0;
      });
    });


//       // Store bird information in local storage
//       localStorage.setItem('birds_info_details', JSON.stringify({
//       "woodpecker": {
//         "habitat": "Forest",
//         "size": "crow size",
//         "color": "Black, White, and Red",
//         "actions": "In trees or bushes"
//       },
//       // Add more birds to the list...
//     }));



//   // Retrieve woodpecker information from URL parameters
//   const urlParams = new URLSearchParams( location.href = "../pages/form/birds.detailpage.html");
//     const birdName = urlParams.get('bird');

//     // Retrieve woodpecker information from local storage
//     const birdsInfoDetails = JSON.parse(localStorage.getItem('birds_info_details'));
//     const woodpeckerInfo = birdsInfoDetails[birdName];

//     // Display woodpecker details
//     document.write("<h1>Woodpecker Details:</h1>");
//     document.write("<p>Habitat: " + woodpeckerInfo.habitat + "</p>");
//     document.write("<p>Size: " + woodpeckerInfo.size + "</p>");
//     document.write("<p>Color: " + woodpeckerInfo.color + "</p>");
//     document.write("<p>Actions: " + woodpeckerInfo.actions + "</p>");



        // // Define your bird species database with characteristics
        // const birdSpecies = [
        //     {
        //         name: 'Wood peacker',
        //         size: 'myna size',
        //         colors: {
        //             color1: 'Black',
        //             color2: 'White',
        //             color3: 'Red',
        //         },
        //         habitat: 'Forest',
        //     },
        //     {
        //         name: 'Cattle egret',
        //         size: 'Goose size',
        //         colors: {
        //             color1: 'White',
        //             color2: 'orange',
        //         },
        //         habitat: 'River',
        //     },
        //     {
        //         name: 'Eagle',
        //         size: 'Goose size',
        //         color: {
        //          color1: 'Black',
        //          color2: 'white'
        //         },
        //         habitat: 'Urban area',
        //     },
        //     // Add more bird species...
        // ];

        // // Function to identify birds based on user inputs
        // function identifyBird() {
        //     let possibleMatches = birdSpecies.slice(); // Create a copy of the bird species array

        //     // Ask questions and progressively filter the matches
        //     const size = prompt('What is the size of the bird? (Small, Medium, Large)');
        //     possibleMatches = possibleMatches.filter(species => species.size === size);

        //     const color = prompt('What is the color of the bird?');
        //     possibleMatches = possibleMatches.filter(species => species.color.toLowerCase() === color.toLowerCase());

        //     const beakShape = prompt('What is the shape of the beak?');
        //     possibleMatches = possibleMatches.filter(species => species.beakShape.toLowerCase() === beakShape.toLowerCase());

        //     const habitat = prompt('What is the habitat of the bird?');
        //     possibleMatches = possibleMatches.filter(species => species.habitat.toLowerCase() === habitat.toLowerCase());

        //     // Display the matched bird species
        //     if (possibleMatches.length > 0) {
        //         console.log('Possible matches:');
        //         possibleMatches.forEach(species => console.log(species.name));
        //     } else {
        //         console.log('No matches found.');
        //     }
        // }

        // // Call the identifyBird function to start the identification process
        // identifyBird();







    </script>

</body>

</html>