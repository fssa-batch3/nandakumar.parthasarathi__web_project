<!DOCTYPE html>
<html>

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Question number 1</title>

    <link rel="stylesheet" href="..//assets/css/q5.css">
    <link rel="stylesheet" href="..//assets/css/style.css">

</head>

<body>

    <div class="header">
        <h1 class="birds"><b>BIRDS BUDDY</b></h1>
        <ul>
            <li>
                <a class="navlist" href="../index.html">Home</a>
            </li>
            <li>
                <a class="navlist" href="../pages/about.html">About</a>
            </li>
            <li>
                <a class="navlist" href="../pages/q1.html">Identify Bird</a>
            </li>
            <li>
                <a class="navlist" href="../pages/explore.html">Explore</a>
            </li>
            <li>
                <a class="guidance" href="../pages/guidance.html">Guidance</a>
            </li>
        </ul>

        <a href="../pages/q2.html"></a>
    </div>
    <div class="headerendline"></div>
    <section class="question-section">
        <div class="container">
            <div class="kelvi">
                <h3>Was the bird doing?</h3>
            </div>
            <div class="options">
                <!-- <div class="option_container">
            <lable>Eating at a feader</lable>
        </div>
        <input  id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>Swimming or wading</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>On the ground</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>In trees or bushes</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>On a fence wire</lable>
        </div>
        <input id="checkbox" type="checkbox" />
        <div class="option_container">
            <lable>Soring or flying</lable>
        </div>
        <input id="checkbox" type="checkbox" /> -->
            </div>

            <div>
                <button type="button" class="next" id="submitBtn" onclick="submit()">Next</button>
            </div>
            <div class="back">
                <a href="..//pages/q4.html"><button>Back</button></a>
            </div>
        </div>
    </section>
    <script>
        function submit() {

            window.location.href = "../pages/q2.html"
        }



        const options = [
            'Eating at a feeder',
            'Swimming or wading',
            'On the ground',
            'In trees or bushes',
            'On a fence wire',
            'Soaring or flying'
        ];

        const container = document.querySelector('.options');

        // retrieve the existing value of "identifyBirds" from local storage, or initialize it to an empty object if it doesn't exist
        let identifyBirds = JSON.parse(localStorage.getItem('identifyBirds')) || {};

        // assign the "actions" property of "identifyBirds" to the array of options
        identifyBirds.actions = options;

        // store the updated value of "identifyBirds" back in local storage
        localStorage.setItem('identifyBirds', JSON.stringify(identifyBirds));

        // loop through the options array and create a checkbox and label element for each option
        options.forEach(option => {
            const optionContainer = document.createElement('div');
            optionContainer.classList.add('option_container');
            optionContainer.style.marginBottom = '10px';

            const label = document.createElement('label');
            label.innerText = option;

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';

            // set the id of the checkbox to the option name, converted to lowercase and with spaces replaced by underscores
            checkbox.id = option.toLowerCase().replace(' ', '_');

            // set the "for" attribute of the label to the id of the checkbox
            label.setAttribute('for', checkbox.id);

            // append the label and checkbox to the option container
            optionContainer.appendChild(checkbox);
            optionContainer.appendChild(label);

            // append the option container to the main container
            container.appendChild(optionContainer);
        });

        // add event listener to the submit button
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.addEventListener('click', function () {
            const selectedOptions = [];

            // loop through all the checkboxes and add the selected ones to the array
            options.forEach(option => {
                const checkbox = document.getElementById(option.toLowerCase().replace(' ', '_'));
                if (checkbox.checked) {
                    selectedOptions.push(option);
                }
            });

            // validate the number of selected options
            if (selectedOptions.length < 1 || selectedOptions.length > 3) {
                alert('Please select between 1 and 3 options.');
                return;
            }

            // store the selected options in the local storage
            localStorage.setItem('selected_options', JSON.stringify(selectedOptions));

            // redirect to the next page
            window.location.href = '../pages/read.html';
        });





    </script>

</body>

</html>